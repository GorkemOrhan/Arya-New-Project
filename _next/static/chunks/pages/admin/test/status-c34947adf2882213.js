(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{6717:function(s,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/test/status",function(){return t(4517)}])},9029:function(s,e,t){"use strict";t.d(e,{Z:function(){return C}});var n=t(5893),i=t(7294),a=t(9729),r=t(1485),o=t(5071),l=t(7407),c=t(5770),d=t(2248),x=t(7876),h=t(6795),u=t(8539),m=t(2857),j=t(7958),p=t(18),Z=t(6459),f=t(3246),v=t(9141),b=t(5854),y=t(1897),g=t(899),w=t(1664),k=t.n(w),S=t(1163),P=t(9069);function C(s){let{children:e}=s,[t,w]=(0,i.useState)(!1),C=(0,S.useRouter)(),E=()=>{w(!t)},_=[{text:"Dashboard",icon:(0,n.jsx)(p.Z,{}),path:"/admin/dashboard"},{text:"Exams",icon:(0,n.jsx)(Z.Z,{}),path:"/admin/exams"},{text:"Candidates",icon:(0,n.jsx)(f.Z,{}),path:"/admin/candidates"},{text:"Results",icon:(0,n.jsx)(v.Z,{}),path:"/admin/results"},{text:"Settings",icon:(0,n.jsx)(b.Z,{}),path:"/admin/settings"}],D=(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(a.Z,{sx:{p:2},children:(0,n.jsx)(r.Z,{variant:"h6",noWrap:!0,component:"div",children:"Admin Panel"})}),(0,n.jsx)(o.Z,{}),(0,n.jsx)(l.Z,{children:_.map((s,e)=>(0,n.jsx)(k(),{href:s.path,passHref:!0,children:(0,n.jsxs)(c.ZP,{button:!0,component:"a",selected:C.pathname===s.path,children:[(0,n.jsx)(d.Z,{children:s.icon}),(0,n.jsx)(x.Z,{primary:s.text})]})},e))}),(0,n.jsx)(o.Z,{}),(0,n.jsx)(l.Z,{children:(0,n.jsxs)(c.ZP,{button:!0,onClick:()=>{(0,P.kS)(),C.push("/login")},children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(x.Z,{primary:"Logout"})]})})]});return(0,n.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,n.jsx)(h.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")}},children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(m.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:E,sx:{mr:2,display:{sm:"none"}},children:(0,n.jsx)(g.Z,{})}),(0,n.jsx)(r.Z,{variant:"h6",noWrap:!0,component:"div",children:"Online Exam Administration"})]})}),(0,n.jsxs)(a.Z,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},children:[(0,n.jsx)(j.ZP,{variant:"temporary",open:t,onClose:E,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:D}),(0,n.jsx)(j.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:D})]}),(0,n.jsxs)(a.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[(0,n.jsx)(u.Z,{}),e]})]})}},4517:function(s,e,t){"use strict";t.r(e),t.d(e,{default:function(){return v}});var n=t(5893),i=t(7294),a=t(802),r=t(1754),o=t(9729),l=t(1485),c=t(4677),d=t(7182),x=t(8573),h=t(1873),u=t(5071),m=t(7788),j=t(9203),p=t(3656),Z=t(3947),f=t(9029);function v(){var s,e,t;let[v,b]=(0,i.useState)(!1),[y,g]=(0,i.useState)([{name:"Backend API",url:"http://localhost:5000/api/test",status:"unknown"},{name:"Authentication",url:"http://localhost:5000/api/auth/validate",status:"unknown"},{name:"Exams",url:"http://localhost:5000/api/exams",status:"unknown"},{name:"Candidates",url:"http://localhost:5000/api/candidates",status:"unknown"},{name:"Questions",url:"http://localhost:5000/api/questions",status:"unknown"},{name:"Results",url:"http://localhost:5000/api/results",status:"unknown"}]),[w,k]=(0,i.useState)(null);(0,i.useEffect)(()=>{C(),S()},[]);let S=async()=>{try{let s=await fetch("http://localhost:5000/api/test/system-info");if(s.ok){let e=await s.json();k(e)}}catch(s){console.error("Error fetching system info:",s)}},P=async(s,e)=>{try{let t=localStorage.getItem("token"),n=Date.now(),i=await fetch(s.url,{method:"GET",headers:t?{Authorization:"Bearer ".concat(t)}:{},signal:AbortSignal.timeout(5e3)}),a=Date.now(),r=[...y];r[e]={...s,status:i.ok?"online":"error",statusCode:i.status,responseTime:a-n,lastChecked:new Date().toLocaleTimeString()},g(r)}catch(n){console.error("Error checking ".concat(s.name,":"),n);let t=[...y];t[e]={...s,status:"offline",error:n.message,lastChecked:new Date().toLocaleTimeString()},g(t)}},C=async()=>{b(!0);try{await Promise.all(y.map((s,e)=>P(s,e)))}finally{b(!1)}},E=s=>{switch(s){case"online":return"success";case"error":return"warning";case"offline":return"error";default:return"default"}},_=s=>{switch(s){case"online":return(0,n.jsx)(j.Z,{fontSize:"small"});case"error":case"offline":return(0,n.jsx)(p.Z,{fontSize:"small"});default:return null}};return(0,n.jsx)(f.Z,{children:(0,n.jsx)(a.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,n.jsxs)(r.Z,{sx:{p:3},children:[(0,n.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,n.jsx)(l.Z,{variant:"h4",children:"API Status Dashboard"}),(0,n.jsx)(c.Z,{variant:"contained",startIcon:(0,n.jsx)(Z.Z,{}),onClick:C,disabled:v,children:"Refresh Status"})]}),v&&(0,n.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"Endpoint Status"}),(0,n.jsx)(o.Z,{sx:{mb:4},children:(0,n.jsx)(x.ZP,{container:!0,spacing:2,children:y.map((s,e)=>(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(r.Z,{elevation:1,sx:{p:2,display:"flex",flexDirection:"column",bgcolor:"offline"===s.status?"#fff8f8":"error"===s.status?"#fffde7":"online"===s.status?"#f1f8e9":"#ffffff"},children:[(0,n.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:"bold",children:s.name}),(0,n.jsx)(h.Z,{label:s.status,color:E(s.status),size:"small",icon:_(s.status)})]}),(0,n.jsx)(l.Z,{variant:"body2",color:"text.secondary",sx:{mt:1},children:s.url}),s.statusCode&&(0,n.jsxs)(l.Z,{variant:"body2",sx:{mt:1},children:["Status Code: ",s.statusCode]}),s.responseTime&&(0,n.jsxs)(l.Z,{variant:"body2",sx:{mt:.5},children:["Response Time: ",s.responseTime,"ms"]}),s.error&&(0,n.jsxs)(l.Z,{variant:"body2",color:"error",sx:{mt:.5},children:["Error: ",s.error]}),s.lastChecked&&(0,n.jsxs)(l.Z,{variant:"caption",color:"text.secondary",sx:{mt:1},children:["Last checked: ",s.lastChecked]})]})},e))})}),(0,n.jsx)(u.Z,{sx:{my:3}}),(0,n.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"System Information"}),w?(0,n.jsx)(o.Z,{sx:{mt:2},children:(0,n.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(r.Z,{elevation:1,sx:{p:2},children:[(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:"bold",children:"Backend Environment"}),(0,n.jsxs)(o.Z,{sx:{mt:1},children:[(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Python Version:"})," ",w.python_version]}),(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Flask Version:"})," ",w.flask_version]}),(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Environment:"})," ",w.environment]})]})]})}),(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(r.Z,{elevation:1,sx:{p:2},children:[(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:"bold",children:"Database Status"}),(0,n.jsxs)(o.Z,{sx:{mt:1},children:[(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Connection:"})," ",(null===(s=w.database)||void 0===s?void 0:s.connected)?"Connected":"Disconnected"]}),(null===(e=w.database)||void 0===e?void 0:e.type)&&(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Type:"})," ",w.database.type]}),(null===(t=w.database)||void 0===t?void 0:t.version)&&(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Version:"})," ",w.database.version]})]})]})}),w.stats&&(0,n.jsx)(x.ZP,{item:!0,xs:12,children:(0,n.jsxs)(r.Z,{elevation:1,sx:{p:2},children:[(0,n.jsx)(l.Z,{variant:"subtitle1",fontWeight:"bold",children:"Application Statistics"}),(0,n.jsx)(o.Z,{sx:{mt:1},children:(0,n.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(x.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Users:"})," ",w.stats.users||0]})}),(0,n.jsx)(x.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Exams:"})," ",w.stats.exams||0]})}),(0,n.jsx)(x.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Candidates:"})," ",w.stats.candidates||0]})}),(0,n.jsx)(x.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(l.Z,{variant:"body2",children:[(0,n.jsx)("strong",{children:"Questions:"})," ",w.stats.questions||0]})})]})})]})})]})}):(0,n.jsx)(m.Z,{severity:"info",children:"System information is not available. The /api/test/system-info endpoint may not be implemented."})]})})})}},9069:function(s,e,t){"use strict";t.d(e,{LP:function(){return i},gy:function(){return r},kS:function(){return l},o4:function(){return a}});var n=t(1955);let i=()=>n.Z.get("token"),a=s=>{n.Z.set("token",s,{expires:1,secure:"https:"===window.location.protocol,sameSite:"lax"})},r=()=>{n.Z.remove("token")},o=()=>{localStorage.removeItem("user")},l=()=>{r(),o()}}},function(s){s.O(0,[917,475,573,800,888,774,179],function(){return s(s.s=6717)}),_N_E=s.O()}]);