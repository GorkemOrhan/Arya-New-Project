(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{5816:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/test/exam-api",function(){return n(1846)}])},9029:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var s=n(5893),a=n(7294),i=n(9729),r=n(1485),o=n(5071),l=n(7407),c=n(5770),d=n(2248),x=n(7876),h=n(6795),u=n(8539),m=n(2857),p=n(7958),j=n(18),Z=n(6459),g=n(3246),f=n(9141),w=n(5854),b=n(1897),y=n(899),v=n(1664),P=n.n(v),k=n(1163),E=n(9069);function S(e){let{children:t}=e,[n,v]=(0,a.useState)(!1),S=(0,k.useRouter)(),_=()=>{v(!n)},C=[{text:"Dashboard",icon:(0,s.jsx)(j.Z,{}),path:"/admin/dashboard"},{text:"Exams",icon:(0,s.jsx)(Z.Z,{}),path:"/admin/exams"},{text:"Candidates",icon:(0,s.jsx)(g.Z,{}),path:"/admin/candidates"},{text:"Results",icon:(0,s.jsx)(f.Z,{}),path:"/admin/results"},{text:"Settings",icon:(0,s.jsx)(w.Z,{}),path:"/admin/settings"}],T=(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(i.Z,{sx:{p:2},children:(0,s.jsx)(r.Z,{variant:"h6",noWrap:!0,component:"div",children:"Admin Panel"})}),(0,s.jsx)(o.Z,{}),(0,s.jsx)(l.Z,{children:C.map((e,t)=>(0,s.jsx)(P(),{href:e.path,passHref:!0,children:(0,s.jsxs)(c.ZP,{button:!0,component:"a",selected:S.pathname===e.path,children:[(0,s.jsx)(d.Z,{children:e.icon}),(0,s.jsx)(x.Z,{primary:e.text})]})},t))}),(0,s.jsx)(o.Z,{}),(0,s.jsx)(l.Z,{children:(0,s.jsxs)(c.ZP,{button:!0,onClick:()=>{(0,E.kS)(),S.push("/login")},children:[(0,s.jsx)(d.Z,{children:(0,s.jsx)(b.Z,{})}),(0,s.jsx)(x.Z,{primary:"Logout"})]})})]});return(0,s.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,s.jsx)(h.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(240,"px)")},ml:{sm:"".concat(240,"px")}},children:(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(m.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:_,sx:{mr:2,display:{sm:"none"}},children:(0,s.jsx)(y.Z,{})}),(0,s.jsx)(r.Z,{variant:"h6",noWrap:!0,component:"div",children:"Online Exam Administration"})]})}),(0,s.jsxs)(i.Z,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},children:[(0,s.jsx)(p.ZP,{variant:"temporary",open:n,onClose:_,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:T}),(0,s.jsx)(p.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:T})]}),(0,s.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[(0,s.jsx)(u.Z,{}),t]})]})}},1846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(5893),a=n(7294),i=n(802),r=n(1754),o=n(1485),l=n(9729),c=n(8573),d=n(8947),x=n(4677),h=n(7182),u=n(7788),m=n(9029),p=n(9069);function j(){let[e,t]=(0,a.useState)(!1),[n,j]=(0,a.useState)(null),[Z,g]=(0,a.useState)(null),[f,w]=(0,a.useState)({title:"Test Exam",description:"This is a test exam created via the API test page",duration_minutes:60,passing_percentage:70,start_time:new Date().toISOString(),end_time:new Date(Date.now()+6048e5).toISOString()}),b=e=>{let{name:t,value:n}=e.target;w({...f,[t]:n})},y=async()=>{t(!0),j(null),g(null);try{let e=(0,p.LP)();if(!e)throw Error("No authentication token found");console.log("Sending exam data:",f);let t=await fetch("http://localhost:5000/api/exams",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(f)}),n=await t.json();if(console.log("Received response:",t.status,n),!t.ok)throw Error("API Error: ".concat(t.status," - ").concat(n.message||JSON.stringify(n)));j({status:t.status,data:n})}catch(e){console.error("Error testing exam creation:",e),g(e.message||"Unknown error occurred")}finally{t(!1)}},v=async()=>{t(!0),j(null),g(null);try{let e=(0,p.LP)();if(!e)throw Error("No authentication token found");let t=await fetch("http://localhost:5000/api/exams",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();if(console.log("Received response:",t.status,n),!t.ok)throw Error("API Error: ".concat(t.status," - ").concat(n.message||JSON.stringify(n)));j({status:t.status,data:n})}catch(e){console.error("Error fetching exams:",e),g(e.message||"Unknown error occurred")}finally{t(!1)}},P=async()=>{t(!0),j(null),g(null);try{let e=await fetch("http://localhost:5000/api/test",{method:"GET"}),t=await e.json();console.log("Received response:",e.status,t),j({status:e.status,data:t})}catch(e){console.error("Error testing no-auth endpoint:",e),g(e.message||"Unknown error occurred")}finally{t(!1)}};return(0,s.jsx)(m.Z,{children:(0,s.jsx)(i.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,s.jsxs)(r.Z,{sx:{p:3},children:[(0,s.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:"Exam API Testing"}),(0,s.jsxs)(l.Z,{sx:{mb:4},children:[(0,s.jsx)(o.Z,{variant:"h6",gutterBottom:!0,children:"Test Exam Data"}),(0,s.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"Title",name:"title",value:f.title,onChange:b,margin:"normal"})}),(0,s.jsx)(c.ZP,{item:!0,xs:12,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"Description",name:"description",value:f.description,onChange:b,margin:"normal",multiline:!0,rows:2})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"Duration (minutes)",name:"duration_minutes",type:"number",value:f.duration_minutes,onChange:b,margin:"normal"})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"Passing Percentage",name:"passing_percentage",type:"number",value:f.passing_percentage,onChange:b,margin:"normal"})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"Start Time",name:"start_time",type:"datetime-local",value:f.start_time.split(".")[0],onChange:b,margin:"normal",InputLabelProps:{shrink:!0}})}),(0,s.jsx)(c.ZP,{item:!0,xs:6,children:(0,s.jsx)(d.Z,{fullWidth:!0,label:"End Time",name:"end_time",type:"datetime-local",value:f.end_time.split(".")[0],onChange:b,margin:"normal",InputLabelProps:{shrink:!0}})})]})]}),(0,s.jsxs)(l.Z,{sx:{mb:3,display:"flex",gap:2},children:[(0,s.jsx)(x.Z,{variant:"contained",onClick:y,disabled:e,color:"primary",children:"Test Create Exam"}),(0,s.jsx)(x.Z,{variant:"outlined",onClick:v,disabled:e,children:"Test Get Exams"}),(0,s.jsx)(x.Z,{variant:"outlined",onClick:P,disabled:e,color:"secondary",children:"Test No-Auth Endpoint"})]}),e&&(0,s.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,s.jsx)(h.Z,{})}),Z&&(0,s.jsx)(u.Z,{severity:"error",sx:{mt:3},children:Z}),n&&(0,s.jsxs)(l.Z,{sx:{mt:3},children:[(0,s.jsxs)(o.Z,{variant:"h6",gutterBottom:!0,children:["API Response (Status: ",n.status,")"]}),(0,s.jsx)(r.Z,{sx:{p:2,bgcolor:"#f5f5f5"},children:(0,s.jsx)("pre",{children:JSON.stringify(n.data,null,2)})})]})]})})})}},9069:function(e,t,n){"use strict";n.d(t,{LP:function(){return a},gy:function(){return r},kS:function(){return l},o4:function(){return i}});var s=n(1955);let a=()=>s.Z.get("token"),i=e=>{s.Z.set("token",e,{expires:1,secure:"https:"===window.location.protocol,sameSite:"lax"})},r=()=>{s.Z.remove("token")},o=()=>{localStorage.removeItem("user")},l=()=>{r(),o()}}},function(e){e.O(0,[917,475,834,573,888,774,179],function(){return e(e.s=5816)}),_N_E=e.O()}]);